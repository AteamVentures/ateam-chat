<!DOCTYPE html>
<html lang="en">
{% load static from staticfiles %}
<head>
    <meta charset="utf-8">
    <title>회원가입</title>
    <link href="{% static 'css/normalize.css' %}" rel="stylesheet">
    <link href="{% static 'css/skeleton.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="//stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link href="{% static 'css/chat.css' %}" rel="stylesheet">
</head>

<body>
<div class="content-area">
    <form method="post" action="">
        {% csrf_token %}
        <div class="form-group row">
            <label class="col-md-3 col-form-label">{{ form.username.label }}</label>
            <div class="col-md-9">{{ form.username }}</div>
        </div>
        <div class="form-group row">
            <label class="col-md-3 col-form-label">{{ form.phone.label }}</label>
            <div class="col-md-9">{{ form.phone }}</div>
        </div>
        <div class="form-group row">
            <label class="col-md-3 col-form-label">{{ form.name.label }}</label>
            <div class="col-md-9">{{ form.name }}</div>
        </div>
        <div class="form-group row">
            <label class="col-md-3 col-form-label">{{ form.display_name.label }}</label>
            <div class="col-md-9">{{ form.display_name }}</div>
        </div>
        <div class="form-group row">
            <label class="col-md-3 col-form-label">{{ form.password1.label }}</label>
            <div class="col-md-9">{{ form.password1 }}</div>
        </div>
        <div class="form-group row">
            <label class="col-md-3 col-form-label">{{ form.password2.label }}</label>
            <div class="col-md-9">{{ form.password2 }}</div>
        </div>
        <div class="form-group row">
            <label class="col-md-3 col-form-label">{{ form.email_name.label }}</label>
            <div class="col-md-3">{{ form.email_name }}</div>
            <div class="col-md-3">{{ form.email_domain }}</div>
            <div class="col-md-3">{{ form.email_domain_choice }}</div>
            <div class="col-md-9 col-md-offset-3">
                {% for error in form.email_name.errors %}
                    <p class="text-error">{{ error }}</p>
                {% endfor %}

                <div id="id_email-error" class="text-red"></div>
                <div id="{{ form.email_name.id_for_label }}-error" class="form-small"></div>
                <div id="{{ form.email_domain.id_for_label }}-error" class="form-small"></div>
            </div>
        </div>
        <div class="text-center"><input type="submit" value="회원가입" class="button button-primary"/></div>
    </form>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
<script>
    $(function () {
        bindEvent();
        initSignup();
    });

    function bindEvent() {
        $("#id_email_name, #id_email_domain").keyup(function () {
            $("#id_email-error, #id_email_name-error, #id_email_domain-error").text("");
        });

        $('#id_email_domain_choice').on('change', function () {
            var value = $(this).val();
            $('#id_email_domain').val(value).trigger("keyup");
        });
    }
    function initSignup() {

    }
</script>

</body>
</html>
